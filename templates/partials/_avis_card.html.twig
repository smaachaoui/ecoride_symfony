{# templates/covoiturage/_avis_card.html.twig #}

<div class="list-group-item border-0 px-0 py-3">
    <div class="d-flex">
        <div class="flex-shrink-0">
            {% if avis.utilisateurId.photo %}
                <img src="{{ asset('uploads/photos/' ~ avis.utilisateurId.photo) }}" 
                     alt="{{ avis.utilisateurId.pseudo }}" 
                     class="rounded-circle" 
                     width="45" height="45"
                     style="object-fit: cover;">
            {% else %}
                <div class="rounded-circle bg-light-green d-flex align-items-center justify-content-center" 
                     style="width: 45px; height: 45px;">
                    <i class="bi bi-person text-dark-green"></i>
                </div>
            {% endif %}
        </div>
        <div class="flex-grow-1 ms-3">
            <div class="d-flex justify-content-between align-items-center mb-1">
                <h6 class="mb-0">{{ avis.utilisateurId.pseudo }}</h6>
                <div class="d-flex align-items-center">
                    {% for i in 1..5 %}
                        {% if i <= avis.note %}
                            <i class="bi bi-star-fill text-warning small"></i>
                        {% else %}
                            <i class="bi bi-star text-warning small"></i>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            <p class="text-muted mb-0 small">{{ avis.commentaire }}</p>
        </div>
    </div>
</div>